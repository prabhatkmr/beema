# Beema Platform Environment Configuration
# Copy this file to .env and customize for your environment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_DB=beema_kernel
POSTGRES_USER=beema
POSTGRES_PASSWORD=beema
POSTGRES_PORT=5433

# Database connection (internal Docker network)
DB_HOST=postgres
DB_PORT=5432
DB_NAME=beema_kernel
DB_USERNAME=beema
DB_PASSWORD=beema

# =============================================================================
# TEMPORAL CONFIGURATION
# =============================================================================
# Temporal server address (internal Docker network)
TEMPORAL_HOST=temporal
TEMPORAL_PORT=7233
TEMPORAL_NAMESPACE=default

# Temporal Web UI port (host machine)
TEMPORAL_UI_PORT=8088

# Temporal Worker Configuration
TEMPORAL_WORKER_ENABLED=true
TEMPORAL_TASK_QUEUE=POLICY_TASK_QUEUE
TEMPORAL_MAX_CONCURRENT_ACTIVITIES=10
TEMPORAL_MAX_CONCURRENT_WORKFLOWS=10

# =============================================================================
# BEEMA KERNEL CONFIGURATION
# =============================================================================
BEEMA_KERNEL_PORT=8080
SPRING_PROFILES_ACTIVE=dev

# Metadata Service URL (internal Docker network)
METADATA_SERVICE_URL=http://metadata-service:8082

# =============================================================================
# KEYCLOAK (OAuth2/OIDC) CONFIGURATION
# =============================================================================
KEYCLOAK_PORT=8180
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# OAuth2 configuration for Beema services
OAUTH2_ISSUER_URI=http://keycloak:8080/realms/beema
OAUTH2_JWK_SET_URI=http://keycloak:8080/realms/beema/protocol/openid-connect/certs

# =============================================================================
# KAFKA CONFIGURATION
# =============================================================================
# Kafka broker ports
KAFKA_INTERNAL_PORT=29092
KAFKA_EXTERNAL_PORT=9092

# Kafka bootstrap servers (use appropriate one based on context)
KAFKA_BOOTSTRAP_SERVERS_INTERNAL=kafka:29092
KAFKA_BOOTSTRAP_SERVERS_EXTERNAL=localhost:9092

# Kafka topics
KAFKA_SOURCE_TOPIC=raw-messages
KAFKA_SINK_TOPIC=processed-messages

# Kafka consumer group
KAFKA_GROUP_ID=beema-message-processor

# Zookeeper
ZOOKEEPER_PORT=2181

# =============================================================================
# STUDIO (FRONTEND) CONFIGURATION
# =============================================================================
STUDIO_PORT=3000
VITE_API_BASE_URL=http://localhost:8080/api/v1

# =============================================================================
# METADATA SERVICE CONFIGURATION
# =============================================================================
METADATA_SERVICE_PORT=8082

# =============================================================================
# MESSAGE PROCESSOR (FLINK) CONFIGURATION
# =============================================================================
MESSAGE_PROCESSOR_PORT=8081
FLINK_JOB_NAME=beema-message-processor
FLINK_PARALLELISM=2
FLINK_CHECKPOINT_INTERVAL=60000

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# LOG_LEVEL=INFO
# SPRING_PROFILES_ACTIVE=dev,json-logging

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
# Uncomment for local development (when running services outside Docker)

# Local database access (from host machine)
# DB_HOST=localhost
# DB_PORT=5433

# Local Temporal access (from host machine)
# TEMPORAL_HOST=localhost
# TEMPORAL_PORT=7233

# Local Kafka access (from host machine)
# KAFKA_BOOTSTRAP_SERVERS=localhost:9092

# =============================================================================
# PRODUCTION CONFIGURATION (EXAMPLES)
# =============================================================================
# These should be set in production deployment, not in docker-compose

# Database
# POSTGRES_PASSWORD=<strong-password>
# DB_PASSWORD=<strong-password>

# Keycloak
# KEYCLOAK_ADMIN_PASSWORD=<strong-admin-password>
# OAUTH2_ISSUER_URI=https://auth.beema.prod/realms/beema
# OAUTH2_JWK_SET_URI=https://auth.beema.prod/realms/beema/protocol/openid-connect/certs

# Temporal
# TEMPORAL_HOST=temporal.beema.prod
# TEMPORAL_NAMESPACE=production

# API endpoints
# VITE_API_BASE_URL=https://api.beema.prod/api/v1

# =============================================================================
# MONITORING & OBSERVABILITY (OPTIONAL)
# =============================================================================
# GRAFANA_PORT=3001
# PROMETHEUS_PORT=9090
# JAEGER_PORT=16686

# =============================================================================
# FEATURE FLAGS (OPTIONAL)
# =============================================================================
# FEATURE_WORKFLOW_ENABLED=true
# FEATURE_MESSAGE_PROCESSING_ENABLED=true
# FEATURE_BITEMPORAL_ENABLED=true

# =============================================================================
# RESOURCE LIMITS (OPTIONAL)
# =============================================================================
# KERNEL_MEMORY_LIMIT=2g
# KERNEL_CPU_LIMIT=2
# TEMPORAL_MEMORY_LIMIT=1g
# POSTGRES_MEMORY_LIMIT=1g
